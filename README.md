Документація для Чат-бота
Опис проекту
Цей проект реалізує чат-бота, який підтримує різні функції, такі як перегляд погоди, встановлення і перегляд налаштувань користувача, ведення історії чату та сповіщення через електронну пошту. Бот реалізований з використанням патернів проектування Strategy, State та Observer для підвищення гнучкості та розширюваності.

Структура проекту
Патерни проектування
Strategy: Дозволяє визначати різні алгоритми обробки повідомлень та перемикатися між ними.
State: Дозволяє змінювати поведінку бота в залежності від його стану.
Observer: Дозволяє іншим об'єктам спостерігати та реагувати на зміни в боті.
Компоненти
TextProcessingStrategy
Абстрактний клас для визначення стратегії обробки тексту.

process(message: str, user_id: str = "default_user") -> str: Метод для обробки повідомлень.
BotState
Абстрактний клас для визначення стану бота.

handle_message(bot, message: str, user_id: str = "default_user"): Метод для обробки повідомлень залежно від стану.
Observer
Абстрактний клас для визначення спостерігача.

update(message: str, response: str): Метод для оновлення спостерігачів.
Subject
Абстрактний клас для визначення суб'єкта.

attach(observer: Observer): Метод для додавання спостерігача.
detach(observer: Observer): Метод для видалення спостерігача.
notify(message: str, response: str): Метод для сповіщення спостерігачів.
Реалізації
Стани бота
InitialState: Початковий стан бота, який використовує стратегію привітання.
WaitingForInputState: Стан, який очікує вводу від користувача.
Стратегії обробки тексту
GreetingStrategy: Стратегія для привітання користувача.
WeatherStrategy: Стратегія для отримання погоди за допомогою API OpenWeatherMap.
Спостерігачі
Logger: Логування повідомлень та відповідей у файл.
DataSaver: Збереження повідомлень та відповідей в SQLite базу даних.
EmailNotifier: Надсилання повідомлень на електронну пошту.
SMSNotifier: Надсилання повідомлень через SMS за допомогою Twilio (коментовано).
Додаткові класи
ChatHistory: Управління історією чату.
UserSettings: Управління налаштуваннями користувача.
Основний клас
Bot
set_state(state: BotState): Встановлює поточний стан бота.
set_strategy(strategy: TextProcessingStrategy): Встановлює поточну стратегію обробки тексту.
attach(observer: Observer): Додає спостерігача.
detach(observer: Observer): Видаляє спостерігача.
notify(message: str, response: str): Сповіщає спостерігачів про нове повідомлення.
process_message(message: str, user_id: str = "default_user") -> str: Обробляє повідомлення за допомогою поточної стратегії.
handle_message(message: str, user_id: str = "default_user") -> str: Обробляє повідомлення в залежності від стану та команд.
Інтерфейс командного рядка
CommandLineInterface
format_response(response: str) -> str: Форматує відповідь з поточним часом.
show_history(): Показує історію чату.
display_greeting(): Відображає привітання при запуску.
start(): Запускає інтерфейс командного рядка для взаємодії з ботом.
load_history(): Завантажує історію чату з бази даних.
Використання
